{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useRef, useState, useEffect, createElement } from 'react';\nimport { AudioListener, AudioLoader } from 'three';\nimport { useThree, useLoader } from 'react-three-fiber';\nimport mergeRefs from 'react-merge-refs';\nvar PositionalAudio = /*#__PURE__*/forwardRef(_c = _s(function (_ref, ref) {\n  _s();\n\n  var url = _ref.url,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? 1 : _ref$distance,\n      _ref$loop = _ref.loop,\n      loop = _ref$loop === void 0 ? true : _ref$loop,\n      props = _objectWithoutPropertiesLoose(_ref, [\"url\", \"distance\", \"loop\"]);\n\n  var sound = useRef();\n\n  var _useThree = useThree(),\n      camera = _useThree.camera;\n\n  var _useState = useState(function () {\n    return new AudioListener();\n  }),\n      listener = _useState[0];\n\n  var buffer = useLoader(AudioLoader, url);\n  useEffect(function () {\n    var _sound = sound.current;\n\n    if (_sound) {\n      _sound.setBuffer(buffer);\n\n      _sound.setRefDistance(distance);\n\n      _sound.setLoop(loop);\n\n      _sound.play();\n    }\n\n    camera.add(listener);\n    return function () {\n      camera.remove(listener);\n\n      if (_sound) {\n        _sound.stop();\n\n        _sound.disconnect();\n      }\n    };\n  }, [buffer, camera, distance, listener, loop]);\n  return /*#__PURE__*/createElement(\"positionalAudio\", _extends({\n    ref: mergeRefs([sound, ref]),\n    args: [listener]\n  }, props));\n}, \"uLNiUjoA49GF+9K9N2fywf7zI1M=\", false, function () {\n  return [useThree, useLoader];\n}));\n_c2 = PositionalAudio;\nexport { PositionalAudio };\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PositionalAudio$forwardRef\");\n$RefreshReg$(_c2, \"PositionalAudio\");","map":{"version":3,"sources":["D:/AA_CLASS/COURS GOBELINS DMII1/ARTISANAT/artisanat-gobelins-vercel/app/node_modules/@react-three/drei/core/PositionalAudio.js"],"names":["_extends","_objectWithoutPropertiesLoose","forwardRef","useRef","useState","useEffect","createElement","AudioListener","AudioLoader","useThree","useLoader","mergeRefs","PositionalAudio","_ref","ref","url","distance","loop","props","sound","camera","listener","buffer","_sound","current","setBuffer","setRefDistance","setLoop","play","add","remove","stop","disconnect","args"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,6BAAP,MAA0C,yDAA1C;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,EAAuCC,SAAvC,EAAkDC,aAAlD,QAAuE,OAAvE;AACA,SAASC,aAAT,EAAwBC,WAAxB,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,mBAApC;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,IAAMC,eAAe,GAAG,aAAaV,UAAU,SAAC,UAACW,IAAD,EAAOC,GAAP,EAAe;AAAA;;AAAA,MAE3DC,GAF2D,GAKzDF,IALyD,CAE3DE,GAF2D;AAAA,sBAKzDF,IALyD,CAG3DG,QAH2D;AAAA,MAG3DA,QAH2D,8BAGhD,CAHgD;AAAA,kBAKzDH,IALyD,CAI3DI,IAJ2D;AAAA,MAI3DA,IAJ2D,0BAIpD,IAJoD;AAAA,MAMzDC,KANyD,GAMjDjB,6BAA6B,CAACY,IAAD,EAAO,CAAC,KAAD,EAAQ,UAAR,EAAoB,MAApB,CAAP,CANoB;;AAQ7D,MAAMM,KAAK,GAAGhB,MAAM,EAApB;;AAR6D,kBAWzDM,QAAQ,EAXiD;AAAA,MAU3DW,MAV2D,aAU3DA,MAV2D;;AAAA,kBAY1ChB,QAAQ,CAAC;AAAA,WAAM,IAAIG,aAAJ,EAAN;AAAA,GAAD,CAZkC;AAAA,MAYtDc,QAZsD;;AAa7D,MAAMC,MAAM,GAAGZ,SAAS,CAACF,WAAD,EAAcO,GAAd,CAAxB;AACAV,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMkB,MAAM,GAAGJ,KAAK,CAACK,OAArB;;AAEA,QAAID,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACE,SAAP,CAAiBH,MAAjB;;AAEAC,MAAAA,MAAM,CAACG,cAAP,CAAsBV,QAAtB;;AAEAO,MAAAA,MAAM,CAACI,OAAP,CAAeV,IAAf;;AAEAM,MAAAA,MAAM,CAACK,IAAP;AACD;;AAEDR,IAAAA,MAAM,CAACS,GAAP,CAAWR,QAAX;AACA,WAAO,YAAM;AACXD,MAAAA,MAAM,CAACU,MAAP,CAAcT,QAAd;;AAEA,UAAIE,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACQ,IAAP;;AAEAR,QAAAA,MAAM,CAACS,UAAP;AACD;AACF,KARD;AASD,GAvBQ,EAuBN,CAACV,MAAD,EAASF,MAAT,EAAiBJ,QAAjB,EAA2BK,QAA3B,EAAqCJ,IAArC,CAvBM,CAAT;AAwBA,SAAO,aAAaX,aAAa,CAAC,iBAAD,EAAoBN,QAAQ,CAAC;AAC5Dc,IAAAA,GAAG,EAAEH,SAAS,CAAC,CAACQ,KAAD,EAAQL,GAAR,CAAD,CAD8C;AAE5DmB,IAAAA,IAAI,EAAE,CAACZ,QAAD;AAFsD,GAAD,EAG1DH,KAH0D,CAA5B,CAAjC;AAID,CA1C8C;AAAA,UAWzCT,QAXyC,EAa9BC,SAb8B;AAAA,GAA/C;MAAME,e;AA4CN,SAASA,eAAT","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useRef, useState, useEffect, createElement } from 'react';\nimport { AudioListener, AudioLoader } from 'three';\nimport { useThree, useLoader } from 'react-three-fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst PositionalAudio = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    url,\n    distance = 1,\n    loop = true\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"url\", \"distance\", \"loop\"]);\n\n  const sound = useRef();\n  const {\n    camera\n  } = useThree();\n  const [listener] = useState(() => new AudioListener());\n  const buffer = useLoader(AudioLoader, url);\n  useEffect(() => {\n    const _sound = sound.current;\n\n    if (_sound) {\n      _sound.setBuffer(buffer);\n\n      _sound.setRefDistance(distance);\n\n      _sound.setLoop(loop);\n\n      _sound.play();\n    }\n\n    camera.add(listener);\n    return () => {\n      camera.remove(listener);\n\n      if (_sound) {\n        _sound.stop();\n\n        _sound.disconnect();\n      }\n    };\n  }, [buffer, camera, distance, listener, loop]);\n  return /*#__PURE__*/createElement(\"positionalAudio\", _extends({\n    ref: mergeRefs([sound, ref]),\n    args: [listener]\n  }, props));\n});\n\nexport { PositionalAudio };\n"]},"metadata":{},"sourceType":"module"}